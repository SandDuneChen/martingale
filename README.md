# 模拟加倍下注

## 缘起
最近又听到有人提起加倍下注的想法：在赌博的过程中，一旦输了就加倍下注，直到成功的赢一次，然后重复这个过程，这样就可以逢赌必胜了。以前每次听到这种想法都不以为意，从数学的角度看，这种想法不值一驳。但这次是一个朋友提起，怕他陷进去，讲数学又是对牛弹琴，就用 `Python` 写了个程序跑一跑，成功劝退。没有想到的是，在这个过程中，思维模拟一个赌徒的赌博过程，居然是一件很好玩的事情。

## 劝退
* 凡有庄家的赌博，当然不可能是公平游戏，即胜率不可能是 50%，不考虑此种情况。
* 那么在一个公平游戏中，加倍下注是否可以必胜呢？结论是理论上可行，前提是赌徒拥有无限的本金，问题仅在于本金显然不可能是无穷大，正是这一点迷惑了赌徒。
* 以上两点很容易让朋友接受，但是加倍下注是否可以提高胜率呢？无论怎么想，这样做赢的可能性都会变大，不是吗？结论仍然是不可以，凡人的想法怎么可能挑战上帝定下的概率？让程序来回答吧。

## 程序规则
1. 设置一个公平游戏，胜率 50%，本金 10000 元
2. 首次下注 1 元，如果输了，则加倍下注 2 元，再输则下注 4 元，以此类推
3. 如果赢了，则重新从 1 元开始下注
4. 盈利目标设置为赌金翻倍，一旦达成即退出

## 程序模拟结果
### 为什么要有盈利目标？这是必须的，一直赌下去必输无疑
![](https://github.com/iflycn/martingale/blob/master/history/a_10.png)
模拟 10 个赌徒，不幸的赌徒在 100 次之内就输光了，更不幸的赌徒赌了超过 180000 次，盈利最多时将近 12 万，最后仍然一文不名。如果赌一把需要 1 分钟，一天赌 15 个小时，这个赌徒连续赌了 200 多天，却承受了如此大的打击，愿上帝保佑他的健康。
### 嗯，看来是这样的，那就不再贪心吧
![](https://github.com/iflycn/martingale/blob/master/history/c_1-1.png)
![](https://github.com/iflycn/martingale/blob/master/history/c_1-2.png)
结果是可能会赢，也可能会输。输的这位还很惨，经历了数次悬崖边缘，不难想象这位数次战战兢兢的押上最后的全部筹码，哈哈，赢了，哈哈哈，又赢了，哦……没了……
### 好吧，赌博嘛，当然有输有赢，但是胜率真的不能提高吗？
![](https://github.com/iflycn/martingale/blob/master/history/c_10.png)
模拟 10 个赌徒，胜率 50%，好巧。
![](https://github.com/iflycn/martingale/blob/master/history/c_100.png)
模拟 100 个赌徒，胜率 51%。
![](https://github.com/iflycn/martingale/blob/master/history/c_500.png)
模拟 500 个赌徒，胜率 49%。
### 发现有很多次，剩余的本金都不足以加倍了，如果有人愿意借钱给你，借吗？
![](https://github.com/iflycn/martingale/blob/master/history/b_100.png)
借钱能提高你获胜退出的概率，假设你借了 5000 元，其实你是在用 15000 元的本金，去博取 10000 元的盈利，概率当然会提高，唯一的问题是，如果输了，也输的更惨。
### 所以结论是？
废话，在一个每把胜率 50% 的游戏中，无论你采用什么策略，如果你期望本金翻倍，你的胜率当然还是 50%。加倍下注唯一能做到的是延长你的赌博时间，如果你享受赌博的过程，这样做也无妨，如果你的目的是赢钱，还他妈的不如第一次就梭哈了，倒也干脆利索。

## 更多
* 加倍下注看似一个聪明的主意，但其本质仍是人性：输了就下的更多，拼命想翻本；赢了却谨小慎微，想要保住纸面财富。
* 这种策略不但不聪明，其投资心态反而愚蠢至极，幸亏这是一个公平游戏，在现实中的任何对赌场景中——包括但不限于赌场、股市、币市——都只能沦为韭菜，被庄家和更聪明的人收割而已。
* 数学上，任何理论一旦涉入无穷大和无穷小，都会产生一些有趣（懵B）的结果。人生而有穷，人类永远也领悟不了无穷的真正意义。
* 物理中，上有 299792458，下有 6.6260693×10^-34，限制了我们获取信息的极限，同时一并限制了我们的想象力，宇宙真的是真实的吗？细思恐极。

## 最后
如果你做不了庄家，那么远离赌博，健康生活。